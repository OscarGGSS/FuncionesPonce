#include <stdio.h>https://github.com/OscarGGSS/FuncionesPonce/tree/main
#include <stdlib.h>
#include <string.h>
#include <stdbool.h>

bool esFechaValida(int eDia, int eMes, int eAnio) {
    // Validar mes
    if (eMes < 1 || eMes > 12) return false;

    // Validar días según el mes
    int eDiasPorMes[] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    
    // Ajustar para años bisiestos
    if (eMes == 2) {
        if ((eAnio % 4 == 0 && eAnio % 100 != 0) || (eAnio % 400 == 0)) {
            eDiasPorMes[2] = 29;
        }
    }

    return eDia > 0 && eDia <= eDiasPorMes[eMes];
}

char* cLeerFecha() {
    static char cFecha[11];
    int eDia, eMes, eAnio;

    while (true) {
        printf("Ingrese la fecha (dd/mm/aaaa): ");
        scanf("%10s", eFecha); 

        // Extraer día, mes y año
        sscanf(eFecha, "%d/%d/%d", &eDia, &eMes, &eAnio);

        // Validar la fecha
        if (esFechaValida(eDia, eMes, eAnio)) {
            return fecha; // Retornar la fecha válida
        } else {
            printf("Fecha inválida. Intente nuevamente.\n");
        }
    }
}

